<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Canteen</title>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/1.3.1/css/toastr.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/1.3.1/js/toastr.js"></script>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="assets/css/spapp.css" />

    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,900"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Oleo+Script"
      rel="stylesheet"
    />

    <link
      href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      rel="stylesheet"
      id="bootstrap-css"
    />

    <link href="css/freelancer.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="assets/js/jquery.spapp.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"
    ></script>
    <script
      type="text/javascript"
      src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>

    <script src="js/utils.js"></script>
    <script src="js/restClient.js"></script>
    <script src="js/employees.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/orders.js"></script>
    <script src="js/editmenu.js"></script>
    <script src="js/dishes.js"></script>
  </head>

  <body id="page-top">
    <!-- Navigation -->
    <nav
      class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
      id="mainNav"
    >
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top"
          >Canteen MS</a
        >
        <button
          class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto" id="tabs"></ul>
        </div>
      </div>
    </nav>

    <main id="spapp" role="main"></main>
  </body>
  <script>
    if (localStorage.getItem("user_token")) {
      //  var user = '';
      var user = Utils.parseJwt(localStorage.getItem("user_token"));
      //var id = 1;
      if (user != null) {
        if (user.data.type_id == 1) {
          //customer
          //      if(id == 2){
          var nav =
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#home">Home</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#menu">Menu</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#checkout">Check Out</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#logout">Logout</a>' +
            "</li>";

          $("#tabs").html(nav);

          var main =
            '<section id="home">Home</section>' +
            '<section id="menu">Menu</section>' +
            '<section id="checkout">Checkout</section>' +
            '<section id="logout">Logout</section>';
          $("#spapp").html(main);

          // za employee
          //          }else if(id == 3){
        } else if (user.data.type_id == 2) {
          var nav =
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#orders">Orders</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#editmenu">Edit Menu</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#logout">Logout</a>' +
            "</li>";

          $("#tabs").html(nav);

          var main =
            '<section id="orders">Orders</section>' +
            '<section id="editmenu">Edit Menu</section>' +
            '<section id="logout">Logout</section>';
          $("#spapp").html(main);
        }
        // za admina
        else if (user.data.type_id == 3) {
          //      else if(id == 1){
          var nav =
            '<li class="nav-item mx-0 mx-lg-1">' + //isto ko employee
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#orders">Orders</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#employee">Employee</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#editmenu">Edit Menu</a>' +
            "</li>" +
            '<li class="nav-item mx-0 mx-lg-1">' +
            '<a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#logout">Logout</a>' +
            "</li>";

          $("#tabs").html(nav);

          var main =
            '<section id="orders">Orders</section>' +
            '<section id="employee">Employee</section>' +
            '<section id="editmenu">Edit Menu</section>' +
            '<section id="logout">Logout</section>';
          $("#spapp").html(main);
        }
      } else {
        window.location = "login.html";
      }
    } else {
      window.location = "login.html";
    }
  </script>
</html>
